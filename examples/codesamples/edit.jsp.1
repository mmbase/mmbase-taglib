<mm:import externid="number" required="true" />
<mm:import externid="ok" />
<mm:node number="${number}">
<mm:notpresent referid="ok">
  <form method="post" action="<mm:url referids="number" />">
  Node of type <mm:nodeinfo type="guinodemanager" /><br />
  <table> 
   <mm:fieldlist type="edit">
     <tr>
     <td><em><mm:fieldinfo type="guiname" /></em></td>
     <td><mm:fieldinfo type="input" /></td>
     </tr>
    </mm:fieldlist> 
   </table>
   <input class="submit"  type ="submit" name="ok" value="ok" />
   </form>
</mm:notpresent>

<mm:present referid="ok">
   <mm:context id="new">
   <mm:fieldlist type="edit">
      <mm:fieldinfo type="useinput" />
   </mm:fieldlist>  
   </mm:context>
   <p>
     Having done that, we show the new values.
   </p>
   <mm:fieldlist type="edit">
      <em><mm:fieldinfo type="guiname" /></em>: <mm:fieldinfo type="guivalue" /><br />
   </mm:fieldlist>
   <hr />
   <a href="<mm:url referids="number" />">back to editor</a>
</mm:present>
</mm:node>

